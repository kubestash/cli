apiVersion: addons.kubestash.com/v1alpha1
kind: Function
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"addons.kubestash.com/v1alpha1","kind":"Function","metadata":{"annotations":{},"name":"workload-restore"},"spec":{"args":["restore","--namespace=${namespace:=default}","--restoresession=${restoreSession:=}","--snapshot=${snapshot:=}","--enable-cache=${enableCache:=}","--scratch-dir=${scratchDir:=}","--exclude=${exclude:=}","--include=${include:=}"],"image":"ghcr.io/kubestash/workload:v0.16.0"}}
    meta.helm.sh/release-name: kubestash
    meta.helm.sh/release-namespace: stash
  labels:
    app.kubernetes.io/instance: kubestash
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: kubestash-catalog
    app.kubernetes.io/version: v2025.3.24
    helm.sh/chart: kubestash-catalog-v2025.3.24
  name: workload-restore
spec:
  args:
  - restore
  - --namespace=${namespace:=default}
  - --restoresession=${restoreSession:=}
  - --snapshot=${snapshot:=}
  - --enable-cache=${enableCache:=}
  - --scratch-dir=${scratchDir:=}
  - --exclude=${exclude:=}
  - --include=${include:=}
  image: ghcr.io/kubestash/workload:v0.16.0
