apiVersion: apps/v1
data:
  spec:
    template:
      $patch: replace
      metadata:
        creationTimestamp: null
        labels:
          app: test-label
      spec:
        containers:
        - image: nginx:latest
          imagePullPolicy: Always
          name: my-container
          ports:
          - containerPort: 8080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /etc/secret
            name: secret-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: my-serviceaccount
        serviceAccountName: my-serviceaccount
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: my-config
          name: config-volume
        - name: secret-volume
          secret:
            defaultMode: 420
            secretName: my-secret
        - name: storage-volume
          persistentVolumeClaim:
            claimName: my-pvc
kind: ControllerRevision
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"apps/v1","kind":"StatefulSet","metadata":{"annotations":{},"labels":{"app":"test-label"},"name":"my-sts","namespace":"restore-test"},"spec":{"replicas":2,"selector":{"matchLabels":{"app":"test-label"}},"serviceName":"my-service","template":{"metadata":{"labels":{"app":"test-label"}},"spec":{"containers":[{"image":"nginx:latest","name":"my-container","ports":[{"containerPort":8080}],"volumeMounts":[{"mountPath":"/etc/config","name":"config-volume"},{"mountPath":"/etc/secret","name":"secret-volume"},{"mountPath":"/data","name":"storage-volume"}]}],"serviceAccountName":"my-serviceaccount","volumes":[{"configMap":{"name":"my-config"},"name":"config-volume"},{"name":"secret-volume","secret":{"secretName":"my-secret"}},{"name":"storage-volume","persistentVolumeClaim":{"claimName":"my-pvc"}}]}},"volumeClaimTemplates":[{"metadata":{"labels":{"app":"test-label"},"name":"storage-volume"},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"5Gi"}}}}]}}
  labels:
    app: test-label
    controller.kubernetes.io/hash: 8499df6d95
  name: my-sts-8499df6d95
  namespace: restore-test
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: StatefulSet
    name: my-sts
    uid: 2e2a6c60-08de-43da-90a0-57f4c064b591
revision: 1
